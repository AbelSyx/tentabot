<launch>
  <arg name="debug"         default="false"/>
  <arg name="gui"           default="true"/>
  <arg name="verbose"       default="false"/>
  <arg name="use_sim_time"  default="true" />
  <arg name="headless"      default="false" />
  
  <!--training_garden_static_0, 
      training_garden_dynamic_0,
      testing_dwarl_zigzag_static
      testing_lvl_1-->
  <arg name="world_name"    default="training_garden_static_0"/>
  <arg name="world_file"    default="$(find tentabot)/worlds/$(arg world_name).world"/>
  
  <arg name="ns0"   default="turtlebot0"/>
  <arg name="model0"   default="burger"/>
  <!--arg name="x0"    default="0.8866"/>
  <arg name="y0"    default="0.24"/-->
  <arg name="x0"    default="0.0"/>
  <arg name="y0"    default="0.0"/>
  <arg name="yaw0"  default="0.0"/>

  <arg name="ns1"   default="turtlebot1"/>
  <arg name="model1"   default="burger"/>
  <arg name="x1"    default="1.18"/>
  <arg name="y1"    default="12.15"/>
  <arg name="yaw1"  default="0.0"/>
  
  <arg name="ns2"   default="turtlebot2"/>
  <arg name="model2"   default="burger"/>
  <arg name="x2"    default="-10.085"/>
  <arg name="y2"    default="12.15"/>
  <arg name="yaw2"  default="3.14"/>

  <arg name="ns3"   default="turtlebot3"/>
  <arg name="model3"   default="burger"/>
  <arg name="x3"    default="-11.0"/>
  <arg name="y3"    default="-0.03"/>
  <arg name="yaw3"  default="3.14"/>

  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="debug"         value="$(arg debug)" />
    <arg name="gui"           value="$(arg gui)" />
    <arg name="verbose"       value="$(arg verbose)"/>
    <arg name="use_sim_time"  value="$(arg use_sim_time)" />
    <arg name="headless"      value="$(arg headless)" />
    <arg name="world_name"    value="$(arg world_file)" />
  </include>

  <!-- this node spawn pedsim actors to gazebo once, then the plugin updates their pose -->
  <group if="$(eval arg('world_name') == 'training_garden_dynamic_0')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_training_garden_dynamic_0.launch"/>
  </group>

  <group if="$(eval arg('world_name') == 'training_garden_dynamic_1')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_training_garden_dynamic_1.launch"/>
  </group>

  <group if="$(eval arg('world_name') == 'testing_lvl_2')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_testing_lvl_2.launch"/>
  </group>

  <group if="$(eval arg('world_name') == 'testing_lvl_3')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_testing_lvl_3.launch"/>
  </group>

  <group if="$(eval arg('world_name') == 'testing_lvl_5')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_testing_lvl_5.launch"/>
  </group>

  <group if="$(eval arg('world_name') == 'testing_lvl_6')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_testing_lvl_6.launch"/>
  </group>

  <group if="$(eval arg('world_name') == 'testing_lvl_7')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_testing_lvl_7.launch"/>
  </group>

  <group if="$(eval arg('world_name') == 'testing_lvl_9')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_testing_lvl_9.launch"/>
  </group>

  <group if="$(eval arg('world_name') == 'testing_lvl_10')">
    <node pkg="tentabot" type="spawn_pedsim_agents.py" name="spawn_pedsim_agents"  output="screen"/>
    <include file="$(find tentabot)/launch/tentabot_rl/pedsim_testing_lvl_10.launch"/>
  </group>

  <node pkg="tf" type="static_transform_publisher" name="world" args="0 0 0 0 0 0 1 world $(arg ns0)/odom 100" />

  <include file="$(find tentabot)/launch/tentabot_utilities/tentabot_spawn.launch">
    <arg name="ns"            value="$(arg ns0)"/>
    <arg name="model"         value="$(arg model0)"/>
    <arg name="x"             value="$(arg x0)"/>
    <arg name="y"             value="$(arg y0)"/>
    <arg name="yaw"           value="$(arg yaw0)"/>
  </include>

  <!--include file="$(find tentabot)/launch/tentabot_spawn.launch">
    <arg name="ns"            value="$(arg ns1)"/>
    <arg name="model"         value="$(arg model2)"/>
    <arg name="x"             value="$(arg x1)"/>
    <arg name="y"             value="$(arg y1)"/>
    <arg name="yaw"           value="$(arg yaw1)"/>
  </include>
  
  <include file="$(find tentabot)/launch/tentabot_spawn.launch">
    <arg name="ns"            value="$(arg ns2)"/>
    <arg name="model"         value="$(arg model2)"/>
    <arg name="x"             value="$(arg x2)"/>
    <arg name="y"             value="$(arg y2)"/>
    <arg name="yaw"           value="$(arg yaw2)"/>
  </include>

  <include file="$(find tentabot)/launch/tentabot_spawn.launch">
    <arg name="ns"            value="$(arg ns3)"/>
    <arg name="model"         value="$(arg model3)"/>
    <arg name="x"             value="$(arg x3)"/>
    <arg name="y"             value="$(arg y3)"/>
    <arg name="yaw"           value="$(arg yaw3)"/>
  </include-->

</launch>